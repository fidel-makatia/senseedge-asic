(kicad_sch
  (version 20231120)
  (generator "eeschema")
  (generator_version "8.0")
  (uuid "e63e39d7-6ac0-4ffd-8aa3-1841a4541b55")
  (paper "A3")
  (title_block
    (title "SenseEdge - Predictive Maintenance Sensor Node")
    (date "2026-02-27")
    (rev "1.0")
    (company "SenseEdge Project")
    (comment 1 "Caravel ASIC + SPI ADC + Accelerometer + ESP32 + Power")
    (comment 2 "SPDX-License-Identifier: Apache-2.0")
  )
  (lib_symbols
    (symbol "senseedge:Caravel_QFN64"
      (pin_names (offset 0.254))
      (exclude_from_sim no)
      (in_bom yes)
      (on_board yes)
      (property "Reference" "U" (at 0 26.67 0) (effects (font (size 1.27 1.27))))
      (property "Value" "Caravel_QFN64" (at 0 -26.67 0) (effects (font (size 1.27 1.27))))
      (symbol "senseedge:Caravel_QFN64_0_0"
        (rectangle (start -12.7 25.4) (end 12.7 -25.4) (stroke (width 0.254) (type default)) (fill (type background)))
        (pin input line (at -15.24 22.86 0) (length 2.54) (name "VDD" (effects (font (size 1.0 1.0)))) (number "1" (effects (font (size 1.0 1.0)))))
        (pin input line (at -15.24 20.32 0) (length 2.54) (name "VDDIO" (effects (font (size 1.0 1.0)))) (number "2" (effects (font (size 1.0 1.0)))))
        (pin input line (at -15.24 17.78 0) (length 2.54) (name "GND" (effects (font (size 1.0 1.0)))) (number "3" (effects (font (size 1.0 1.0)))))
        (pin bidirectional line (at -15.24 12.7 0) (length 2.54) (name "GPIO[0]" (effects (font (size 1.0 1.0)))) (number "5" (effects (font (size 1.0 1.0)))))
        (pin bidirectional line (at -15.24 10.16 0) (length 2.54) (name "GPIO[1]" (effects (font (size 1.0 1.0)))) (number "6" (effects (font (size 1.0 1.0)))))
        (pin bidirectional line (at -15.24 7.62 0) (length 2.54) (name "GPIO[2]" (effects (font (size 1.0 1.0)))) (number "7" (effects (font (size 1.0 1.0)))))
        (pin bidirectional line (at -15.24 5.08 0) (length 2.54) (name "GPIO[3]" (effects (font (size 1.0 1.0)))) (number "8" (effects (font (size 1.0 1.0)))))
        (pin bidirectional line (at -15.24 2.54 0) (length 2.54) (name "GPIO[4]" (effects (font (size 1.0 1.0)))) (number "9" (effects (font (size 1.0 1.0)))))
        (pin bidirectional line (at -15.24 0 0) (length 2.54) (name "GPIO[5]" (effects (font (size 1.0 1.0)))) (number "10" (effects (font (size 1.0 1.0)))))
        (pin bidirectional line (at -15.24 -2.54 0) (length 2.54) (name "GPIO[6]" (effects (font (size 1.0 1.0)))) (number "11" (effects (font (size 1.0 1.0)))))
        (pin input line (at 15.24 22.86 180) (length 2.54) (name "XTAL1" (effects (font (size 1.0 1.0)))) (number "50" (effects (font (size 1.0 1.0)))))
        (pin output line (at 15.24 20.32 180) (length 2.54) (name "XTAL2" (effects (font (size 1.0 1.0)))) (number "51" (effects (font (size 1.0 1.0)))))
        (pin passive line (at -15.24 -22.86 0) (length 2.54) (name "EPAD" (effects (font (size 1.0 1.0)))) (number "65" (effects (font (size 1.0 1.0)))))
      )
    )
    (symbol "senseedge:MCP3201"
      (pin_names (offset 0.254))
      (exclude_from_sim no)
      (in_bom yes)
      (on_board yes)
      (property "Reference" "U" (at 0 10.16 0) (effects (font (size 1.27 1.27))))
      (property "Value" "MCP3201" (at 0 -10.16 0) (effects (font (size 1.27 1.27))))
      (symbol "senseedge:MCP3201_0_0"
        (rectangle (start -7.62 8.89) (end 7.62 -8.89) (stroke (width 0.254) (type default)) (fill (type background)))
        (pin input line (at -10.16 6.35 0) (length 2.54) (name "VDD" (effects (font (size 1.0 1.0)))) (number "1" (effects (font (size 1.0 1.0)))))
        (pin input line (at -10.16 3.81 0) (length 2.54) (name "VREF" (effects (font (size 1.0 1.0)))) (number "2" (effects (font (size 1.0 1.0)))))
        (pin input line (at -10.16 1.27 0) (length 2.54) (name "IN+" (effects (font (size 1.0 1.0)))) (number "3" (effects (font (size 1.0 1.0)))))
        (pin input line (at -10.16 -1.27 0) (length 2.54) (name "IN-" (effects (font (size 1.0 1.0)))) (number "4" (effects (font (size 1.0 1.0)))))
        (pin power_in line (at -10.16 -6.35 0) (length 2.54) (name "VSS" (effects (font (size 1.0 1.0)))) (number "5" (effects (font (size 1.0 1.0)))))
        (pin input line (at 10.16 -3.81 180) (length 2.54) (name "~{CS}" (effects (font (size 1.0 1.0)))) (number "6" (effects (font (size 1.0 1.0)))))
        (pin output line (at 10.16 3.81 180) (length 2.54) (name "DOUT" (effects (font (size 1.0 1.0)))) (number "7" (effects (font (size 1.0 1.0)))))
        (pin input line (at 10.16 1.27 180) (length 2.54) (name "CLK" (effects (font (size 1.0 1.0)))) (number "8" (effects (font (size 1.0 1.0)))))
      )
    )
  )
  (text "SenseEdge Sensor Node - Signal Flow:\n\nADXL1002 (Vibration) → MCP3201 (12-bit ADC) → Caravel ASIC (FFT + NN)\n                                                      ↓\n                                              ESP32-C3 (WiFi/BLE)\n\nPower: USB-C 5V → AP2112K-3.3 → 3.3V → AP2112K-1.8 → 1.8V"
    (exclude_from_sim no)
    (at 25.4 25.4 0)
    (effects (font (size 2.54 2.54)) (justify left))
    (uuid "b0000001-0000-0000-0000-000000000001")
  )
  (text "Net Connections:\n\n3V3 → U1.VDDIO, U2.VDD, U2.VREF, U3.VDD, U4.3V3\n1V8 → U1.VDD\nGND → All ground pins, U2.IN-, U3.ST\n\nSPI_MISO: U2.DOUT → U1.GPIO[0]\nSPI_CLK:  U1.GPIO[1] → U2.CLK\nSPI_CS:   U1.GPIO[2] → U2.~{CS}\nVIB_ANALOG: U3.OUT → U2.IN+\n\nUART_TX: U1.GPIO[5] → U4.RX\nUART_RX: U4.TX → U1.GPIO[6]\n\nALARM: U1.GPIO[3] → D1 (RGB LED)\nSTATUS: U1.GPIO[4] → D1\n\nXTAL: Y1 (25MHz) → U1.XTAL1/XTAL2 with 22pF caps"
    (exclude_from_sim no)
    (at 25.4 76.2 0)
    (effects (font (size 2.0 2.0)) (justify left))
    (uuid "b0000002-0000-0000-0000-000000000002")
  )
  (symbol
    (lib_id "senseedge:Caravel_QFN64")
    (at 101.6 127.0 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "a0000001-0000-0000-0000-000000000001")
    (property "Reference" "U1" (at 101.6 96.52 0) (effects (font (size 1.27 1.27))))
    (property "Value" "Caravel_ASIC" (at 101.6 157.48 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "Package_DFN_QFN:QFN-64-1EP_9x9mm_P0.5mm_EP5.45x5.45mm" (at 101.6 160.02 0) (effects (font (size 1.27 1.27)) hide))
    (pin "1" (uuid "p0000001-0001"))
    (pin "2" (uuid "p0000001-0002"))
    (pin "3" (uuid "p0000001-0003"))
    (pin "5" (uuid "p0000001-0005"))
    (pin "6" (uuid "p0000001-0006"))
    (pin "7" (uuid "p0000001-0007"))
    (pin "8" (uuid "p0000001-0008"))
    (pin "9" (uuid "p0000001-0009"))
    (pin "10" (uuid "p0000001-0010"))
    (pin "11" (uuid "p0000001-0011"))
    (pin "50" (uuid "p0000001-0050"))
    (pin "51" (uuid "p0000001-0051"))
    (pin "65" (uuid "p0000001-0065"))
  )
  (symbol
    (lib_id "senseedge:MCP3201")
    (at 203.2 127.0 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "a0000002-0000-0000-0000-000000000002")
    (property "Reference" "U2" (at 203.2 114.3 0) (effects (font (size 1.27 1.27))))
    (property "Value" "MCP3201" (at 203.2 139.7 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm" (at 203.2 142.24 0) (effects (font (size 1.27 1.27)) hide))
    (pin "1" (uuid "p0000002-0001"))
    (pin "2" (uuid "p0000002-0002"))
    (pin "3" (uuid "p0000002-0003"))
    (pin "4" (uuid "p0000002-0004"))
    (pin "5" (uuid "p0000002-0005"))
    (pin "6" (uuid "p0000002-0006"))
    (pin "7" (uuid "p0000002-0007"))
    (pin "8" (uuid "p0000002-0008"))
  )
  (wire (pts (xy 116.84 139.7) (xy 193.04 131.57))
    (stroke (width 0) (type default))
    (uuid "w0000001-0000-0000-0000-000000000001")
  )
  (wire (pts (xy 116.84 137.16) (xy 213.36 128.27))
    (stroke (width 0) (type default))
    (uuid "w0000002-0000-0000-0000-000000000002")
  )
  (wire (pts (xy 116.84 134.62) (xy 213.36 123.19))
    (stroke (width 0) (type default))
    (uuid "w0000003-0000-0000-0000-000000000003")
  )
  (global_label "SPI_MISO"
    (shape input)
    (at 83.82 139.7 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "gl0000001")
    (property "Intersheets" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
  )
  (global_label "SPI_CLK"
    (shape output)
    (at 83.82 137.16 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "gl0000002")
    (property "Intersheets" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
  )
  (global_label "SPI_CS"
    (shape output)
    (at 83.82 134.62 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "gl0000003")
    (property "Intersheets" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
  )
  (global_label "UART_TX"
    (shape output)
    (at 83.82 127.0 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "gl0000004")
    (property "Intersheets" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
  )
  (global_label "UART_RX"
    (shape input)
    (at 83.82 124.46 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "gl0000005")
    (property "Intersheets" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
  )
  (global_label "3V3"
    (shape input)
    (at 83.82 104.14 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "gl0000006")
    (property "Intersheets" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
  )
  (global_label "1V8"
    (shape input)
    (at 83.82 106.68 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "gl0000007")
    (property "Intersheets" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
  )
  (global_label "GND"
    (shape input)
    (at 83.82 109.22 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "gl0000008")
    (property "Intersheets" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
  )
  (global_label "VIB_ANALOG"
    (shape input)
    (at 190.5 128.27 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "gl0000009")
    (property "Intersheets" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
  )
)
